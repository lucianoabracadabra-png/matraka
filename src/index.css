@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&family=Rajdhani:wght@500;700&display=swap');

:root {
  --neon-cyan: #00f3ff;
  --neon-pink: #ff00ff;
  --neon-purple: #bc13fe;
  --neon-green: #00ff00;
  --neon-yellow: #ffff00;
  --neon-red: #ff2a2a; /* Vermelho Cyber */
  
  --deep-void: #05050a;
  --card-bg: #000000;
  --grid-color: rgba(0, 243, 255, 0.05);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Rajdhani', sans-serif;
  background-color: var(--deep-void);
  color: #fff;
  min-height: 100vh;
  overflow-x: hidden;
}

/* --- FUNDO CYBERPUNK (THE GRID) --- */
.cyber-grid {
  position: fixed; inset: 0; z-index: 0;
  background-image: 
    linear-gradient(var(--grid-color) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
  background-size: 40px 40px;
  background-position: center top;
  mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 90%);
  pointer-events: none;
  transform: perspective(500px) rotateX(20deg) scale(1.5);
  transform-origin: top;
  animation: gridMove 20s linear infinite;
}

@keyframes gridMove {
  0% { background-position: center 0; }
  100% { background-position: center 40px; }
}

.cyber-glow {
  position: fixed; top: -20%; left: 20%;
  width: 60vw; height: 60vw;
  background: radial-gradient(circle, rgba(188, 19, 254, 0.1) 0%, transparent 70%);
  filter: blur(80px); z-index: 0; pointer-events: none;
}

.container { position: relative; z-index: 1; max-width: 1400px; margin: 0 auto; padding: 2rem; }

/* --- UI ELEMENTS GERAIS --- */
.search-box { position: relative; margin-bottom: 2rem; }

.search-input {
  width: 100%; padding: 1rem 1rem 1rem 3.5rem;
  background: #000; border: 1px solid #333;
  border-radius: 4px; color: #fff;
  font-family: 'JetBrains Mono', monospace; font-size: 1rem;
  transition: all 0.3s;
}
.search-input:focus { outline: none; border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0, 243, 255, 0.2); }

/* Botão Criar (+) */
.btn-create {
  width: 50px; height: 50px;
  background: var(--neon-pink); color: #000;
  border: none; font-size: 2rem;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%);
  box-shadow: 0 0 15px var(--neon-pink);
  transition: transform 0.2s;
}
.btn-create:hover { transform: scale(1.1) rotate(90deg); background: #fff; box-shadow: 0 0 25px var(--neon-pink); }

/* --- SNIPPET CARD (High-End Black) --- */
.snippets-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: 1.5rem; margin-bottom: 3rem;
}

.snippet-card {
  background-color: var(--card-bg);
  border: 1px solid #333;
  border-radius: 4px;
  position: relative; overflow: hidden;
  transition: all 0.2s ease;
  padding: 1.5rem;
  display: flex; flex-direction: column;
}

/* Barras Laterais e Hover */
.card-text { border-left: 3px solid var(--neon-cyan); }
.card-ai { border-left: 3px solid var(--neon-pink); }

.card-text:hover { border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0, 243, 255, 0.15); }
.card-ai:hover { border-color: var(--neon-pink); box-shadow: 0 0 15px rgba(255, 0, 255, 0.15); }

.snippet-name {
  font-family: 'Rajdhani', sans-serif; font-weight: 700; font-size: 1.3rem;
  color: #fff; margin-bottom: 0.2rem; text-transform: uppercase; letter-spacing: 1px;
}

/* --- BOTÕES DE AÇÃO (Cards & Geral) --- */
.cyber-icon-btn, .cyber-action-btn {
  display: flex; align-items: center; gap: 6px;
  padding: 6px 10px; border-radius: 2px;
  font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; font-weight: bold;
  cursor: pointer; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  background: rgba(255,255,255,0.03); 
  border: 1px solid #444; 
  color: #888;
}
.cyber-action-btn svg, .cyber-icon-btn svg {
  width: 14px; height: 14px; fill: none; stroke: currentColor; 
  stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; transition: all 0.2s;
}

/* Variações de Cores (Outline -> Solid Black Text) */
/* KIT (Verde) */
.btn-kit { border-color: var(--neon-green); color: var(--neon-green); }
.btn-kit:hover, .btn-kit.active { background: var(--neon-green); color: #000 !important; box-shadow: 0 0 15px var(--neon-green); border-color: var(--neon-green); }

/* COPY (Ciano) */
.btn-copy, .btn-neon-copy { border-color: var(--neon-cyan); color: var(--neon-cyan); }
.btn-copy:hover, .btn-neon-copy:hover { background: var(--neon-cyan); color: #000 !important; box-shadow: 0 0 15px var(--neon-cyan); border-color: var(--neon-cyan); }

/* LIKE (Rosa) */
.btn-like, .btn-neon-like { border-color: var(--neon-pink); color: var(--neon-pink); }
.btn-like:hover, .btn-like.active, .btn-neon-like:hover, .btn-neon-like.active { background: var(--neon-pink); color: #000 !important; box-shadow: 0 0 15px var(--neon-pink); border-color: var(--neon-pink); }

/* EDIT (Amarelo) */
.btn-edit, .btn-neon-edit { border-color: var(--neon-yellow); color: var(--neon-yellow); }
.btn-edit:hover, .btn-neon-edit:hover { background: var(--neon-yellow); color: #000 !important; box-shadow: 0 0 15px var(--neon-yellow); border-color: var(--neon-yellow); }

/* DELETE (Vermelho) */
.btn-delete, .btn-delete-neon { 
  border-radius: 2px; padding: 6px 10px; font-size: 0.75rem; 
  font-family: 'JetBrains Mono'; cursor: pointer; font-weight: bold; 
  background: rgba(0,0,0,0.3); border: 1px solid var(--neon-red); color: var(--neon-red);
  display: flex; align-items: center; justifyContent: center; min-width: 32px; transition: all 0.2s;
}
.btn-delete:hover, .btn-delete-neon:hover { 
  background: var(--neon-red); color: #000 !important; 
  box-shadow: 0 0 15px var(--neon-red); border-color: var(--neon-red);
}

/* --- TAGS & CHAT BUBBLES --- */
.tag-badge { 
  display: inline-flex; align-items: center; gap: 4px; padding: 2px 6px; 
  border-radius: 2px; font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; font-weight: bold; 
  background: #000; border: 1px solid; margin: 0 2px; vertical-align: middle; 
  white-space: nowrap; box-shadow: 0 2px 5px rgba(0,0,0,0.5);
}
.tag-badge svg { width: 10px; height: 10px; stroke-width: 2.5; }

.chat-container {
  display: flex; flex-direction: column; gap: 0.5rem;
  margin-top: 1rem; max-height: 250px; overflow-y: auto; padding-right: 5px;
}

.chat-bubble { 
  background: #0a0a0a; border: 1px solid #222; padding: 10px; 
  font-family: monospace; font-size: 0.85rem; color: #ccc; border-radius: 4px; 
  position: relative; line-height: 1.6;
}

/* --- MODAL DE EDIÇÃO --- */
.cyber-modal {
  background: #050505; border: 1px solid var(--neon-cyan);
  box-shadow: 0 0 40px rgba(0,0,0,0.8);
  clip-path: polygon(0 0, 100% 0, 100% 95%, 97% 100%, 0 100%);
  position: relative;
}

/* Inputs do Modal */
.input-label { font-family: 'JetBrains Mono', monospace; font-size: 0.7rem; color: #666; margin-bottom: 6px; display: block; letter-spacing: 1px; }

.cyber-field { 
  background: #000; border: 1px solid #333; color: #fff; padding: 12px; 
  font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; width: 100%; border-radius: 2px; transition: all 0.2s; 
}
.cyber-field:focus { border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0, 243, 255, 0.1); outline: none; }
.cyber-field::placeholder { color: #333; }

/* Tabs de Categoria */
.cat-tab { 
  flex: 1; text-align: center; padding: 10px; cursor: pointer; 
  font-family: 'JetBrains Mono'; font-size: 0.8rem; font-weight: bold; 
  background: #0a0a0a; border: 1px solid #333; color: #666; transition: all 0.2s; 
}
.cat-tab.active-text { background: rgba(0, 243, 255, 0.1); border-color: var(--neon-cyan); color: var(--neon-cyan); box-shadow: inset 0 0 10px rgba(0,243,255,0.1); }
.cat-tab.active-ai { background: rgba(255, 0, 255, 0.1); border-color: var(--neon-pink); color: var(--neon-pink); box-shadow: inset 0 0 10px rgba(255,0,255,0.1); }
.cat-tab:hover { background: #111; color: #fff; }

/* Botões da Toolbar do Modal (Usa variáveis CSS locais para cor) */
.tool-btn {
  display: flex; align-items: center; gap: 6px; padding: 8px 12px;
  background: rgba(255,255,255,0.03); 
  border: 1px solid var(--btn-color);
  color: var(--btn-color);
  font-family: 'JetBrains Mono'; font-size: 0.75rem; font-weight: bold;
  cursor: pointer; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); border-radius: 2px;
}
.tool-btn:hover { 
  background: var(--btn-color); 
  color: #000 !important; 
  box-shadow: 0 0 15px var(--btn-color);
  transform: translateY(-1px);
}
.tool-btn svg { width: 14px; height: 14px; stroke-width: 2.5; stroke: currentColor; fill: none; transition: stroke 0.2s; }

/* Botão Principal do Modal */
.cyber-btn-main {
  background: var(--neon-cyan); color: #000; border: none;
  font-family: 'JetBrains Mono', monospace; font-weight: 900; font-size: 1rem;
  padding: 1rem; cursor: pointer; position: relative; overflow: hidden;
  transition: all 0.2s; clip-path: polygon(0 0, 100% 0, 100% 80%, 95% 100%, 0 100%);
  text-transform: uppercase; letter-spacing: 2px;
}
.cyber-btn-main:hover { background: #fff; box-shadow: 0 0 25px var(--neon-cyan); transform: translateY(-2px); }

/* Dropdowns */
.cyber-dropdown { background: #000; border: 1px solid; padding: 4px; box-shadow: 0 0 20px rgba(0,0,0,0.8); z-index: 100; }
.dropdown-item { background: transparent; border: none; color: #fff; padding: 8px 12px; width: 100%; text-align: left; cursor: pointer; font-family: 'JetBrains Mono'; font-size: 0.8rem; transition: 0.2s; }
.dropdown-item:hover { background: rgba(255,255,255,0.1); color: #fff; font-weight: bold; }

/* --- EFEITOS GLITCH --- */
.title-glitch {
  font-family: 'JetBrains Mono', monospace; font-weight: 900; font-size: 3rem;
  color: #fff; position: relative; letter-spacing: -2px; text-transform: uppercase;
  animation: glitch-skew 3s infinite linear alternate-reverse;
}
.title-glitch::before, .title-glitch::after {
  content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%;
}
.title-glitch::before {
  left: 2px; text-shadow: -2px 0 var(--neon-pink); clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim 4s infinite linear alternate-reverse;
}
.title-glitch::after {
  left: -2px; text-shadow: -2px 0 var(--neon-cyan); clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim2 4s infinite linear alternate-reverse;
}

@keyframes glitch-anim {
  0% { clip: rect(32px, 9999px, 18px, 0); } 20% { clip: rect(8px, 9999px, 84px, 0); }
  40% { clip: rect(62px, 9999px, 12px, 0); } 60% { clip: rect(18px, 9999px, 67px, 0); }
  80% { clip: rect(42px, 9999px, 3px, 0); } 100% { clip: rect(2px, 9999px, 91px, 0); }
}
@keyframes glitch-anim2 {
  0% { clip: rect(65px, 9999px, 100px, 0); } 20% { clip: rect(3px, 9999px, 36px, 0); }
  40% { clip: rect(88px, 9999px, 4px, 0); } 60% { clip: rect(12px, 9999px, 22px, 0); }
  80% { clip: rect(56px, 9999px, 81px, 0); } 100% { clip: rect(2px, 9999px, 33px, 0); }
}
@keyframes glitch-skew {
  0% { transform: skew(1deg); } 10% { transform: skew(-1deg); }
  20% { transform: skew(0.5deg); } 30% { transform: skew(-0.5deg); }
  40% { transform: skew(0deg); } 100% { transform: skew(0deg); }
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: #000; }
::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--neon-cyan); }

/* --- MODAL DE EDIÇÃO (Refatorado & Responsivo) --- */

/* Container Principal do Modal */
.cyber-modal-container {
  display: flex; flex-direction: column;
  background: #050505; 
  width: 100%; height: 100%;
  max-height: 90vh; /* Não deixa passar da tela */
}

/* Header Compacto */
.modal-header {
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #222;
  display: flex; justify-content: space-between; alignItems: center;
  background: linear-gradient(90deg, #000 0%, #0a0a0a 100%);
}

/* Corpo com Scroll se necessário */
.modal-body {
  padding: 1.5rem;
  display: flex; flex-direction: column; gap: 1.2rem;
  overflow-y: auto; /* Scroll apenas aqui dentro se a tela for pequena */
  flex: 1;
}

/* Inputs Refinados (Menos Padding, Mais elegantes) */
.cyber-field {
  background: #080808; 
  border: 1px solid #333; 
  color: #fff; 
  padding: 0.8rem 1rem; 
  font-family: 'JetBrains Mono', monospace; 
  font-size: 0.9rem; 
  width: 100%; 
  border-radius: 2px; 
  transition: all 0.2s;
}
.cyber-field:focus { 
  border-color: var(--neon-cyan); 
  background: #000;
  box-shadow: 0 0 15px rgba(0, 243, 255, 0.1); 
  outline: none; 
}

/* Grid Responsivo para a linha Trigger/Categoria */
.modal-row-responsive {
  display: flex; gap: 1.5rem;
}
/* Em telas menores que 600px, empilha tudo */
@media (max-width: 600px) {
  .modal-row-responsive { flex-direction: column; gap: 1rem; }
}

/* Toolbar de Ícones (Igual ao Card Externo) */
.editor-toolbar {
  display: flex; gap: 0.5rem; 
  flex-wrap: wrap; 
  padding: 0.8rem; 
  background: #000; 
  border: 1px solid #222; 
  border-radius: 2px;
  align-items: center;
}

/* Separador Vertical na Toolbar */
.toolbar-separator {
  width: 1px; height: 20px; background: #333; margin: 0 4px;
}

/* Botão da Toolbar (Lógica de Variável CSS) */
.tool-btn {
  display: flex; align-items: center; gap: 6px; 
  padding: 6px 10px; 
  background: rgba(255,255,255,0.02); 
  border: 1px solid var(--btn-color); /* Usa a cor definida no inline style */
  color: var(--btn-color);
  font-family: 'JetBrains Mono'; font-size: 0.7rem; font-weight: bold;
  cursor: pointer; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); 
  border-radius: 2px;
  white-space: nowrap; /* Não quebra linha */
}

/* O Efeito Mágico: Fundo Cor + Texto Preto + Glow */
.tool-btn:hover, .tool-btn.active { 
  background: var(--btn-color); 
  color: #000 !important; 
  box-shadow: 0 0 15px var(--btn-color);
  transform: translateY(-1px);
}
.tool-btn svg { 
  width: 12px; height: 12px; stroke-width: 2.5; 
  stroke: currentColor; fill: none; 
}

/* Botão de Privacidade (Switch) */
.btn-privacy {
  display: flex; align-items: center; gap: 6px;
  font-family: 'JetBrains Mono'; font-size: 0.7rem; font-weight: bold;
  padding: 4px 10px; border-radius: 2px; cursor: pointer;
  background: rgba(0,0,0,0.5); transition: all 0.2s;
}
/* Cores específicas para Locked/Unlocked via classes auxiliares no JS ou Style */

/* Selector de Categoria (Compacto) */
.cat-selector {
  display: flex; border: 1px solid #333; border-radius: 2px; overflow: hidden;
}
.cat-option {
  flex: 1; text-align: center; padding: 0.8rem; cursor: pointer;
  font-family: 'JetBrains Mono'; font-size: 0.75rem; font-weight: bold;
  color: #666; background: #0a0a0a; transition: all 0.2s;
}
.cat-option:hover { background: #111; color: #fff; }
.cat-option.active { background: #000; } 
/* As cores ativas são injetadas via style inline ou classes específicas para manter flexibilidade */


/* --- LOADING SYSTEM (BOOT SEQUENCE) --- */
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 60vh; /* Centraliza na tela */
  position: relative;
}

/* Spinner de Carregamento (Hexagon ou Circle Tech) */
.cyber-loader {
  width: 60px; height: 60px;
  border: 2px solid transparent;
  border-top-color: var(--neon-cyan);
  border-bottom-color: var(--neon-pink);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 1.5rem;
  position: relative;
  box-shadow: 0 0 15px rgba(0, 243, 255, 0.2);
}

.cyber-loader::before {
  content: '';
  position: absolute; top: 5px; left: 5px; right: 5px; bottom: 5px;
  border: 2px solid transparent;
  border-left-color: var(--neon-purple);
  border-right-color: var(--neon-green);
  border-radius: 50%;
  animation: spin 2s linear infinite reverse;
}

@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Texto de Loading Glitch */
.loading-text {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem;
  letter-spacing: 3px;
  color: #fff;
  text-transform: uppercase;
  animation: blink 1s infinite;
}

@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }


/* --- BOTÃO LOGOUT (SYSTEM EXIT) --- */
.btn-logout {
  background: rgba(255, 42, 42, 0.05); /* Fundo vermelho bem sutil */
  border: 1px solid var(--neon-red);
  color: var(--neon-red);
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  font-weight: bold;
  padding: 6px 12px;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex; align-items: center; gap: 6px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* Hover: Fundo Vermelho Sólido + Texto Preto */
.btn-logout:hover {
  background: var(--neon-red);
  color: #000;
  box-shadow: 0 0 15px var(--neon-red);
  transform: translateY(-1px);
}